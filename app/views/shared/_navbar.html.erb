<%= react_component("TopBar", props: {
  mode: current_user&.theme_preference || "light",
  user: {
    id: current_acting_user.id,
    profilePictureUrl: current_acting_user.profile_picture_url,
    talentId: current_acting_user.talent&.id,
    isTalent: current_acting_user.talent.present?,
    displayWalletId: current_acting_user.display_wallet_id,
    walletId: current_acting_user.wallet_id,
    username: current_acting_user.username,
    tokenLive: current_acting_user.talent&.talent_token&.contract_id.present?,
    currentTheme: current_acting_user.theme_preference,
  },
  pendingNetworkRequest: is_user_impersonated? ? false : current_user&.pending_network_requests?,
  hasUnreadMessages: is_user_impersonated? ? false : current_user&.has_unread_messages?,
  signOutPath: sign_out_path,
  isUserImpersonated: is_user_impersonated?,
  impersonatedUsername: current_impersonated_user&.username,
  stopImpersonationPath: api_v1_impersonation_path(current_acting_user.id)
}, prerender: false) %>
